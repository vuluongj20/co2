{"ast":null,"code":"var _jsxFileName = \"/Users/vu/Documents/Work/Repositories/co2/src/App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport * as d3 from 'd3';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      originalData: [],\n      styles: {\n        dark: '#333344',\n        light: '#999999',\n        line: '#F1F1F1',\n        theme: '#F99806',\n        themeReadable: '#F99806'\n      }\n    };\n  }\n\n  componentDidMount() {\n    let margin = {\n      top: 20,\n      right: 60,\n      bottom: 40,\n      left: 0\n    },\n        width = 800,\n        height = 600,\n        innerWidth = width - margin.left - margin.right,\n        innerHeight = height - margin.top - margin.bottom,\n        svg = d3.select('#App').append('svg').attr('width', width).attr('height', height);\n    d3.csv('data/weekly_in_situ_co2_mlo.csv').then(data => {\n      data.forEach(function (d) {\n        d.date = d3.timeParse('%Y-%m-%d')(d.date);\n        d.level = +d.level;\n      });\n      this.setState({\n        originalData: data\n      }, () => {\n        let x = d3.scaleTime().domain(d3.extent(data, (d, i) => {\n          return d.date;\n        })).range([0, innerWidth]).nice(),\n            y = d3.scaleLinear().domain(d3.extent(data, (d, i) => {\n          return d.level;\n        })).range([innerHeight, 0]).nice(),\n            totalLength = 0; // Grid lines\n\n        svg.append('g').attr('class', 'y grid').attr('transform', 'translate(' + margin.left + ', ' + height + ')').call(d3.axisBottom(x).ticks(5).tickSize(-height).tickFormat(''));\n        svg.append('g').attr('class', 'x grid').attr('transform', 'translate(' + margin.left + ', ' + margin.top + ')').call(d3.axisLeft(y).ticks(5).tickSize(-width).tickFormat('')); // Axes\n\n        svg.append('g').attr('class', 'x axis').attr('transform', 'translate(' + margin.left + ', ' + (innerHeight + margin.top) + ')').call(d3.axisBottom(x).ticks(5).tickSize(0).tickPadding(24));\n        svg.append('g').attr('class', 'y axis').attr('transform', 'translate(' + (innerWidth + margin.left) + ', ' + margin.top + ')').call(d3.axisRight(y).ticks(5).tickSize(0).tickPadding(32));\n        svg.append('line').attr('class', 'bottom-axis').attr(\"x1\", 0).attr(\"y1\", height - margin.bottom).attr(\"x2\", width).attr(\"y2\", height - margin.bottom); // Main data line\n\n        let dataLine = svg.append('path').datum(data).attr('class', 'data-line').attr('d', d3.line().x(function (d) {\n          return x(d.date) + margin.left;\n        }).y(function (d) {\n          return y(d.level) + margin.top;\n        }));\n        totalLength = dataLine.node().getTotalLength();\n        dataLine.attr(\"stroke-dasharray\", totalLength + \" \" + totalLength).attr(\"stroke-dashoffset\", totalLength).transition().delay(400).duration(1600).ease(d3.easeSinOut).attr('stroke-dashoffset', 0);\n      });\n    });\n  }\n\n  render() {\n    let styles = this.state.styles;\n    return React.createElement(\"div\", {\n      id: \"App\",\n      style: {\n        '--dark': styles.dark,\n        '--light': styles.light,\n        '--line': styles.line,\n        '--theme': styles.theme,\n        '--theme-readable': styles.themeReadable\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    });\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/vu/Documents/Work/Repositories/co2/src/App.js"],"names":["React","Component","d3","App","constructor","props","state","originalData","styles","dark","light","line","theme","themeReadable","componentDidMount","margin","top","right","bottom","left","width","height","innerWidth","innerHeight","svg","select","append","attr","csv","then","data","forEach","d","date","timeParse","level","setState","x","scaleTime","domain","extent","i","range","nice","y","scaleLinear","totalLength","call","axisBottom","ticks","tickSize","tickFormat","axisLeft","tickPadding","axisRight","dataLine","datum","node","getTotalLength","transition","delay","duration","ease","easeSinOut","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,WAAP;AACA,OAAO,KAAKC,EAAZ,MAAoB,IAApB;;AAEA,MAAMC,GAAN,SAAkBF,SAAlB,CAA4B;AAC1BG,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,YAAY,EAAE,EADH;AAEXC,MAAAA,MAAM,EAAE;AACNC,QAAAA,IAAI,EAAE,SADA;AAENC,QAAAA,KAAK,EAAE,SAFD;AAGNC,QAAAA,IAAI,EAAE,SAHA;AAINC,QAAAA,KAAK,EAAE,SAJD;AAKNC,QAAAA,aAAa,EAAE;AALT;AAFG,KAAb;AAUD;;AACDC,EAAAA,iBAAiB,GAAG;AAClB,QAAIC,MAAM,GAAG;AAACC,MAAAA,GAAG,EAAE,EAAN;AAAUC,MAAAA,KAAK,EAAE,EAAjB;AAAqBC,MAAAA,MAAM,EAAE,EAA7B;AAAiCC,MAAAA,IAAI,EAAE;AAAvC,KAAb;AAAA,QACEC,KAAK,GAAG,GADV;AAAA,QAEEC,MAAM,GAAG,GAFX;AAAA,QAGEC,UAAU,GAAGF,KAAK,GAAGL,MAAM,CAACI,IAAf,GAAsBJ,MAAM,CAACE,KAH5C;AAAA,QAIEM,WAAW,GAAGF,MAAM,GAAGN,MAAM,CAACC,GAAhB,GAAsBD,MAAM,CAACG,MAJ7C;AAAA,QAKEM,GAAG,GAAGtB,EAAE,CAACuB,MAAH,CAAU,MAAV,EACLC,MADK,CACE,KADF,EAEHC,IAFG,CAEE,OAFF,EAEWP,KAFX,EAGHO,IAHG,CAGE,QAHF,EAGYN,MAHZ,CALR;AAUAnB,IAAAA,EAAE,CAAC0B,GAAH,CAAO,iCAAP,EAA0CC,IAA1C,CAA+CC,IAAI,IAAI;AACrDA,MAAAA,IAAI,CAACC,OAAL,CAAa,UAASC,CAAT,EAAY;AACvBA,QAAAA,CAAC,CAACC,IAAF,GAAS/B,EAAE,CAACgC,SAAH,CAAa,UAAb,EAAyBF,CAAC,CAACC,IAA3B,CAAT;AACAD,QAAAA,CAAC,CAACG,KAAF,GAAU,CAACH,CAAC,CAACG,KAAb;AACD,OAHD;AAIA,WAAKC,QAAL,CAAc;AACZ7B,QAAAA,YAAY,EAAEuB;AADF,OAAd,EAEG,MAAM;AACP,YAAIO,CAAC,GAAGnC,EAAE,CAACoC,SAAH,GACLC,MADK,CACErC,EAAE,CAACsC,MAAH,CAAUV,IAAV,EAAgB,CAACE,CAAD,EAAIS,CAAJ,KAAU;AAAC,iBAAOT,CAAC,CAACC,IAAT;AAAc,SAAzC,CADF,EAELS,KAFK,CAEC,CAAC,CAAD,EAAIpB,UAAJ,CAFD,EAGLqB,IAHK,EAAR;AAAA,YAIEC,CAAC,GAAG1C,EAAE,CAAC2C,WAAH,GACHN,MADG,CACIrC,EAAE,CAACsC,MAAH,CAAUV,IAAV,EAAgB,CAACE,CAAD,EAAIS,CAAJ,KAAU;AAAC,iBAAOT,CAAC,CAACG,KAAT;AAAe,SAA1C,CADJ,EAEHO,KAFG,CAEG,CAACnB,WAAD,EAAc,CAAd,CAFH,EAGHoB,IAHG,EAJN;AAAA,YAQEG,WAAW,GAAG,CARhB,CADO,CAWP;;AACAtB,QAAAA,GAAG,CAACE,MAAJ,CAAW,GAAX,EACGC,IADH,CACQ,OADR,EACiB,QADjB,EAEGA,IAFH,CAEQ,WAFR,EAEqB,eAAeZ,MAAM,CAACI,IAAtB,GAA6B,IAA7B,GAAoCE,MAApC,GAA6C,GAFlE,EAGG0B,IAHH,CAGQ7C,EAAE,CAAC8C,UAAH,CAAcX,CAAd,EACDY,KADC,CACK,CADL,EAEDC,QAFC,CAEQ,CAAC7B,MAFT,EAGD8B,UAHC,CAGU,EAHV,CAHR;AAQA3B,QAAAA,GAAG,CAACE,MAAJ,CAAW,GAAX,EACGC,IADH,CACQ,OADR,EACiB,QADjB,EAEGA,IAFH,CAEQ,WAFR,EAEqB,eAAeZ,MAAM,CAACI,IAAtB,GAA6B,IAA7B,GAAoCJ,MAAM,CAACC,GAA3C,GAAiD,GAFtE,EAGG+B,IAHH,CAGQ7C,EAAE,CAACkD,QAAH,CAAYR,CAAZ,EACDK,KADC,CACK,CADL,EAEDC,QAFC,CAEQ,CAAC9B,KAFT,EAGD+B,UAHC,CAGU,EAHV,CAHR,EApBO,CA6BP;;AACA3B,QAAAA,GAAG,CAACE,MAAJ,CAAW,GAAX,EACGC,IADH,CACQ,OADR,EACiB,QADjB,EAEGA,IAFH,CAEQ,WAFR,EAEqB,eAAeZ,MAAM,CAACI,IAAtB,GAA6B,IAA7B,IAAqCI,WAAW,GAAGR,MAAM,CAACC,GAA1D,IAAiE,GAFtF,EAGG+B,IAHH,CAGQ7C,EAAE,CAAC8C,UAAH,CAAcX,CAAd,EAAiBY,KAAjB,CAAuB,CAAvB,EAA0BC,QAA1B,CAAmC,CAAnC,EAAsCG,WAAtC,CAAkD,EAAlD,CAHR;AAIA7B,QAAAA,GAAG,CAACE,MAAJ,CAAW,GAAX,EACGC,IADH,CACQ,OADR,EACiB,QADjB,EAEGA,IAFH,CAEQ,WAFR,EAEqB,gBAAgBL,UAAU,GAAGP,MAAM,CAACI,IAApC,IAA4C,IAA5C,GAAmDJ,MAAM,CAACC,GAA1D,GAAgE,GAFrF,EAGG+B,IAHH,CAGQ7C,EAAE,CAACoD,SAAH,CAAaV,CAAb,EAAgBK,KAAhB,CAAsB,CAAtB,EAAyBC,QAAzB,CAAkC,CAAlC,EAAqCG,WAArC,CAAiD,EAAjD,CAHR;AAIA7B,QAAAA,GAAG,CAACE,MAAJ,CAAW,MAAX,EACGC,IADH,CACQ,OADR,EACiB,aADjB,EAEGA,IAFH,CAEQ,IAFR,EAEc,CAFd,EAGGA,IAHH,CAGQ,IAHR,EAGcN,MAAM,GAAGN,MAAM,CAACG,MAH9B,EAIGS,IAJH,CAIQ,IAJR,EAIcP,KAJd,EAKGO,IALH,CAKQ,IALR,EAKcN,MAAM,GAAGN,MAAM,CAACG,MAL9B,EAtCO,CA6CP;;AACA,YAAIqC,QAAQ,GAAG/B,GAAG,CAACE,MAAJ,CAAW,MAAX,EACZ8B,KADY,CACN1B,IADM,EAEZH,IAFY,CAEP,OAFO,EAEE,WAFF,EAGZA,IAHY,CAGP,GAHO,EAGFzB,EAAE,CAACS,IAAH,GACR0B,CADQ,CACN,UAASL,CAAT,EAAY;AAAE,iBAAOK,CAAC,CAACL,CAAC,CAACC,IAAH,CAAD,GAAYlB,MAAM,CAACI,IAA1B;AAAgC,SADxC,EAERyB,CAFQ,CAEN,UAASZ,CAAT,EAAY;AAAE,iBAAOY,CAAC,CAACZ,CAAC,CAACG,KAAH,CAAD,GAAapB,MAAM,CAACC,GAA3B;AAAgC,SAFxC,CAHE,CAAf;AAQA8B,QAAAA,WAAW,GAAGS,QAAQ,CAACE,IAAT,GAAgBC,cAAhB,EAAd;AAEAH,QAAAA,QAAQ,CAAC5B,IAAT,CAAc,kBAAd,EAAkCmB,WAAW,GAAG,GAAd,GAAoBA,WAAtD,EACGnB,IADH,CACQ,mBADR,EAC6BmB,WAD7B,EAEGa,UAFH,GAGKC,KAHL,CAGW,GAHX,EAIKC,QAJL,CAIc,IAJd,EAKKC,IALL,CAKU5D,EAAE,CAAC6D,UALb,EAMKpC,IANL,CAMU,mBANV,EAM+B,CAN/B;AAOD,OAjED;AAkED,KAvED;AAwED;;AACDqC,EAAAA,MAAM,GAAG;AACP,QAAIxD,MAAM,GAAG,KAAKF,KAAL,CAAWE,MAAxB;AACA,WACE;AACE,MAAA,EAAE,EAAC,KADL;AAEE,MAAA,KAAK,EAAE;AACH,kBAAUA,MAAM,CAACC,IADd;AAEH,mBAAWD,MAAM,CAACE,KAFf;AAGH,kBAAUF,MAAM,CAACG,IAHd;AAIH,mBAAWH,MAAM,CAACI,KAJf;AAKH,4BAAoBJ,MAAM,CAACK;AALxB,OAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF;AAYD;;AAhHyB;;AAmH5B,eAAeV,GAAf","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\nimport * as d3 from 'd3'\n\nclass App extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      originalData: [],\n      styles: {\n        dark: '#333344',\n        light: '#999999',\n        line: '#F1F1F1',\n        theme: '#F99806',\n        themeReadable: '#F99806'\n      }\n    }\n  }\n  componentDidMount() {\n    let margin = {top: 20, right: 60, bottom: 40, left: 0},\n      width = 800,\n      height = 600,\n      innerWidth = width - margin.left - margin.right,\n      innerHeight = height - margin.top - margin.bottom,\n      svg = d3.select('#App')\n      .append('svg')\n        .attr('width', width)\n        .attr('height', height)\n\n    d3.csv('data/weekly_in_situ_co2_mlo.csv').then(data => {\n      data.forEach(function(d) {\n        d.date = d3.timeParse('%Y-%m-%d')(d.date)\n        d.level = +d.level\n      })\n      this.setState({\n        originalData: data\n      }, () => {\n        let x = d3.scaleTime()\n          .domain(d3.extent(data, (d, i) => {return d.date}))\n          .range([0, innerWidth])\n          .nice(),\n          y = d3.scaleLinear()\n          .domain(d3.extent(data, (d, i) => {return d.level}))\n          .range([innerHeight, 0])\n          .nice(),\n          totalLength = 0\n\n        // Grid lines\n        svg.append('g')\n          .attr('class', 'y grid')\n          .attr('transform', 'translate(' + margin.left + ', ' + height + ')')\n          .call(d3.axisBottom(x)\n              .ticks(5)\n              .tickSize(-height)\n              .tickFormat('')\n          )\n        svg.append('g')\n          .attr('class', 'x grid')\n          .attr('transform', 'translate(' + margin.left + ', ' + margin.top + ')')\n          .call(d3.axisLeft(y)\n              .ticks(5)\n              .tickSize(-width)\n              .tickFormat('')\n          )\n\n        // Axes\n        svg.append('g')\n          .attr('class', 'x axis')\n          .attr('transform', 'translate(' + margin.left + ', ' + (innerHeight + margin.top) + ')')\n          .call(d3.axisBottom(x).ticks(5).tickSize(0).tickPadding(24))\n        svg.append('g')\n          .attr('class', 'y axis')\n          .attr('transform', 'translate(' + (innerWidth + margin.left) + ', ' + margin.top + ')')\n          .call(d3.axisRight(y).ticks(5).tickSize(0).tickPadding(32))\n        svg.append('line')\n          .attr('class', 'bottom-axis')\n          .attr(\"x1\", 0)\n          .attr(\"y1\", height - margin.bottom)\n          .attr(\"x2\", width)\n          .attr(\"y2\", height - margin.bottom)\n\n        // Main data line\n        let dataLine = svg.append('path')\n          .datum(data)\n          .attr('class', 'data-line')\n          .attr('d', d3.line()\n            .x(function(d) { return x(d.date) + margin.left })\n            .y(function(d) { return y(d.level) + margin.top })\n          )\n\n        totalLength = dataLine.node().getTotalLength()\n\n        dataLine.attr(\"stroke-dasharray\", totalLength + \" \" + totalLength)\n          .attr(\"stroke-dashoffset\", totalLength)\n          .transition()\n            .delay(400)\n            .duration(1600)\n            .ease(d3.easeSinOut)\n            .attr('stroke-dashoffset', 0)\n      })\n    })\n  }\n  render() {\n    let styles = this.state.styles\n    return (\n      <div\n        id=\"App\"\n        style={{\n            '--dark': styles.dark,\n            '--light': styles.light,\n            '--line': styles.line,\n            '--theme': styles.theme,\n            '--theme-readable': styles.themeReadable\n          }}>\n      </div>\n    )\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}