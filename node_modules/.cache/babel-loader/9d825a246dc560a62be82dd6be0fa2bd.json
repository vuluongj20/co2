{"ast":null,"code":"var _jsxFileName = \"/Users/vu/Documents/Work/Repositories/co2/src/App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport * as d3 from 'd3';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      originalData: [],\n      lineChartCreated: false\n    };\n    this.createLineChart = this.createLineChart.bind(this);\n  }\n\n  componentDidMount() {\n    d3.csv('data/weekly_in_situ_co2_mlo.csv').then(data => {\n      data.forEach(function (d) {\n        d.date = d3.timeParse('%Y-%m-%d')(d.date);\n        d.level = +d.level;\n      });\n      this.setState({\n        originalData: data\n      }, () => {\n        let animationObserver = new IntersectionObserver((entries, observer) => {\n          entries.forEach(entry => {\n            if (entry.isIntersecting) {\n              entry.target.classList.add('on');\n            }\n          });\n        }, {\n          threshold: 1\n        });\n        document.querySelectorAll('.animate').forEach(el => {\n          animationObserver.observe(el);\n        });\n        let lineChartObserver = new IntersectionObserver((entries, observer) => {\n          if (entries[0].isIntersecting) {\n            if (entries[0].intersectionRatio === 1 && this.state.lineChartCreated) {// this.state.updateLineChart('initial')\n            } else if (!this.state.lineChartCreated) {\n              this.createLineChart(this.state.originalData);\n              this.setState({\n                lineChartCreated: true\n              });\n            }\n          }\n        }, {\n          threshold: [0.6, 1]\n        });\n        lineChartObserver.observe(document.querySelector('#line-chart'));\n        let lineChartScrollObserver = new IntersectionObserver((entries, observer) => {\n          entries.forEach(entry => {\n            if (entry.isIntersecting) {\n              let index = entry.target.dataset.index,\n                  el = document.querySelector('#line-chart .viz-des-text:nth-child(' + (Number(index) + 1) + ')');\n              el.classList.add('on');\n              el.classList.remove('off');\n              document.querySelectorAll('#line-chart .viz-des-text:not(:nth-child(' + (Number(index) + 1) + '))').forEach(el => {\n                if (el.classList.contains('on')) {\n                  el.classList.add('off');\n                  setTimeout(() => {\n                    el.classList.remove('on');\n                  }, 800);\n                }\n              });\n              this.state.updateLineChart(vizs.lineChart[index].state);\n            }\n          });\n        }, {\n          rootMargin: '0 0 -25%',\n          threshold: 1\n        });\n        document.querySelectorAll('.viz-scroll-anchor').forEach(el => {\n          lineChartScrollObserver.observe(el);\n        });\n      });\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      id: \"App\",\n      style: {\n        '--background': styles.background,\n        '--inverted-background': styles.invertedBackground,\n        '--dark': styles.dark,\n        '--inverted-dark': styles.invertedDark,\n        '--normal': styles.normal,\n        '--light': styles.light,\n        '--line': styles.line,\n        '--theme': styles.theme,\n        '--theme-readable': styles.themeReadable\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"hero-wrap\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"hero-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"hero-span span-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"C\"), React.createElement(\"span\", {\n      className: \"hero-span span-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, \"O\"), React.createElement(\"sub\", {\n      className: \"hero-span span-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, \"2\")), React.createElement(\"p\", {\n      className: \"hero-des\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, \"An exploration into new formats for data visualization, with CO\", React.createElement(\"sub\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, \"2\"), \" measurements from the Mauna Loa Observatory in Hawaii.\")), React.createElement(\"div\", {\n      className: \"section-wrap line-chart\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"limit-box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      className: \"header limited\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"header-span animate right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, \"A rapid\"), React.createElement(\"span\", {\n      className: \"header-span animate left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, \"increase.\")), React.createElement(\"p\", {\n      className: \"para limited animate blur\",\n      style: {\n        '--animation-speed': '800ms',\n        '--animation-delay': '800ms'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, \"A simple line plot can show us how the CO\", React.createElement(\"sub\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, \"2\"), \" levels (measured in ppm - parts per million) has changed since the first recordings in 1980.\")), React.createElement(\"div\", {\n      className: \"viz-outer-wrap\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"viz-wrap\",\n      id: \"line-chart\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"viz-des-wrap\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, vizs.lineChart.map((des, index) => {\n      return React.createElement(\"p\", {\n        className: \"viz-des-text\",\n        key: index,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, des.des);\n    }))), React.createElement(\"div\", {\n      className: \"viz-scroll-box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, vizs.lineChart.map((des, index) => {\n      return React.createElement(\"div\", {\n        className: \"viz-scroll-anchor\",\n        \"data-index\": index,\n        key: index,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      });\n    })))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/vu/Documents/Work/Repositories/co2/src/App.js"],"names":["React","Component","d3","App","constructor","props","state","originalData","lineChartCreated","createLineChart","bind","componentDidMount","csv","then","data","forEach","d","date","timeParse","level","setState","animationObserver","IntersectionObserver","entries","observer","entry","isIntersecting","target","classList","add","threshold","document","querySelectorAll","el","observe","lineChartObserver","intersectionRatio","querySelector","lineChartScrollObserver","index","dataset","Number","remove","contains","setTimeout","updateLineChart","vizs","lineChart","rootMargin","render","styles","background","invertedBackground","dark","invertedDark","normal","light","line","theme","themeReadable","map","des"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\nimport * as d3 from 'd3'\n\nclass App extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      originalData: [],\n      lineChartCreated: false\n    }\n    this.createLineChart = this.createLineChart.bind(this)\n  }\n  componentDidMount() {\n    d3.csv('data/weekly_in_situ_co2_mlo.csv').then(data => {\n      data.forEach(function(d) {\n        d.date = d3.timeParse('%Y-%m-%d')(d.date)\n        d.level = +d.level\n      })\n      this.setState({\n        originalData: data\n      }, () => {\n        let animationObserver = new IntersectionObserver(\n          (entries, observer) => {\n            entries.forEach((entry) => {\n              if (entry.isIntersecting) {\n                entry.target.classList.add('on')\n              }\n            })\n          },\n          {\n            threshold: 1\n          })\n        document.querySelectorAll('.animate').forEach(el => {\n          animationObserver.observe(el)\n        })\n\n        let lineChartObserver = new IntersectionObserver(\n          (entries, observer) => {\n            if (entries[0].isIntersecting) {\n              if (entries[0].intersectionRatio === 1 && this.state.lineChartCreated) {\n                // this.state.updateLineChart('initial')\n              } else if (!this.state.lineChartCreated) {\n                this.createLineChart(this.state.originalData)\n                this.setState({lineChartCreated: true})\n              }\n            }\n          },\n          {\n            threshold: [0.6, 1]\n          })\n        lineChartObserver.observe(document.querySelector('#line-chart'))\n\n        let lineChartScrollObserver = new IntersectionObserver(\n          (entries, observer) => {\n            entries.forEach((entry) => {\n              if (entry.isIntersecting) {\n                let index = entry.target.dataset.index,\n                  el = document.querySelector('#line-chart .viz-des-text:nth-child(' + (Number(index) + 1) + ')')\n                el.classList.add('on')\n                el.classList.remove('off')\n                document.querySelectorAll('#line-chart .viz-des-text:not(:nth-child(' + (Number(index) + 1) + '))').forEach(el => {\n                  if (el.classList.contains('on')) {\n                    el.classList.add('off')\n                    setTimeout(() => {\n                      el.classList.remove('on')\n                    }, 800)\n                  }\n                })\n                this.state.updateLineChart(vizs.lineChart[index].state)\n              }\n            })\n          },\n          {\n            rootMargin: '0 0 -25%',\n            threshold: 1\n          })\n          document.querySelectorAll('.viz-scroll-anchor').forEach(el => {\n            lineChartScrollObserver.observe(el)\n          })\n      })\n    })\n  }\n  render() {\n    return (\n      <div\n        id=\"App\"\n        style={{\n            '--background': styles.background,\n            '--inverted-background': styles.invertedBackground,\n            '--dark': styles.dark,\n            '--inverted-dark': styles.invertedDark,\n            '--normal': styles.normal,\n            '--light': styles.light,\n            '--line': styles.line,\n            '--theme': styles.theme,\n            '--theme-readable': styles.themeReadable\n          }}>\n          <div className=\"hero-wrap\">\n            <h1 className=\"hero-text\">\n              <span className=\"hero-span span-1\">C</span>\n              <span className=\"hero-span span-2\">O</span>\n              <sub className=\"hero-span span-3\">2</sub>\n            </h1>\n            <p className=\"hero-des\">\n              An exploration into new formats for data visualization, with CO<sub>2</sub> measurements from the Mauna Loa Observatory in Hawaii.\n            </p>\n          </div>\n          <div className=\"section-wrap line-chart\">\n            <div className=\"limit-box\">\n              <h2 className=\"header limited\">\n                  <span className=\"header-span animate right\">A rapid</span>\n                  <span className=\"header-span animate left\">increase.</span>\n              </h2>\n              <p\n                className=\"para limited animate blur\"\n                style={{\n                  '--animation-speed': '800ms',\n                  '--animation-delay': '800ms'\n              }}>\n                A simple line plot can show us how the CO<sub>2</sub> levels (measured in ppm - parts per million) has changed since the first recordings in 1980.\n              </p>\n            </div>\n            <div className=\"viz-outer-wrap\">\n              <div className=\"viz-wrap\" id=\"line-chart\">\n                <div className=\"viz-des-wrap\">\n                  {vizs.lineChart.map((des, index) => {\n                    return (\n                      <p className=\"viz-des-text\" key={index}>{des.des}</p>\n                    )\n                  })}\n                </div>\n              </div>\n              <div className=\"viz-scroll-box\">\n                {vizs.lineChart.map((des, index) => {\n                  return (\n                    <div className=\"viz-scroll-anchor\" data-index={index} key={index}></div>\n                  )\n                })}\n              </div>\n            </div>\n          </div>\n      </div>\n    )\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}