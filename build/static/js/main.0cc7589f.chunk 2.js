(this.webpackJsonpco2=this.webpackJsonpco2||[]).push([[0],{79:function(t,e,a){t.exports=a(89)},84:function(t,e,a){},85:function(t,e,a){},86:function(t,e,a){},87:function(t,e,a){},88:function(t,e,a){},89:function(t,e,a){"use strict";a.r(e);var r=a(1),n=a.n(r),s=a(33),i=a.n(s),o=(a(84),a(2)),c=a(3),l=a(6),d=a(5),u=a(7),h=(a(85),a(0)),p=a(4),m=(a(86),a(87),function(t){function e(t){var a;return Object(o.a)(this,e),(a=Object(l.a)(this,Object(d.a)(e).call(this,t))).state={vizCreated:!1,currentState:-1,updateFunc:null},a.createViz=a.createViz.bind(Object(p.a)(a)),a.vizRef=n.a.createRef(),a}return Object(u.a)(e,t),Object(c.a)(e,[{key:"createViz",value:function(t){var e=this,a=20,r=60,n=40,s=0,i=window.innerWidth/window.innerHeight>1.2?window.innerWidth>900?Math.min(.8*window.innerWidth-320,1200):Math.min(.8*window.innerWidth-180,1200):Math.min(.8*window.innerWidth,1200),o=window.innerWidth/window.innerHeight>1.2?Math.min(.8*window.innerHeight,i,1e3):Math.min(.9*window.innerHeight-300,i,1e3),c=i-s-r,l=o-a-n,d=Object(h.o)("#line-chart"),u=d.select(".viz-svg-wrap").append("svg").attr("preserveAspectRatio","xMidYMid meet").attr("viewBox","0 0 "+i+" "+o).attr("class","viz"),p=Object(h.n)().domain(Object(h.h)(t,(function(t,e){return t.date}))).range([0,c]).nice(),m=Object(h.m)().domain(Object(h.h)(t,(function(t,e){return t.level}))).range([l,0]).nice(),f=null,v=Object(h.l)(t,(function(t){return t.date})),g=t.map((function(t){return Math.ceil((t.date.getTime()-v.getTime())/864e5)})),y=o/400;d.select(".viz-divider").attr("class","viz-divider on"),u.append("g").attr("class","y grid").attr("transform","translate("+s+", "+o+")").call(Object(h.a)(p).ticks(5).tickSize(-o).tickFormat("")),d.selectAll(".y.grid>.tick").each((function(t,e){Object(h.o)(this).attr("stroke-dasharray",o+" "+o).attr("stroke-dashoffset",o).attr("stroke-width",y/2).transition().duration(800).ease(h.g).attr("stroke-dashoffset",(function(){return e%2===0?0:2*o}))})),u.append("g").attr("class","x grid").attr("transform","translate("+s+", "+a+")").call(Object(h.b)(m).ticks(5).tickSize(i).tickFormat("")),d.selectAll(".x.grid>.tick").each((function(t,e){Object(h.o)(this).attr("stroke-dasharray",i+" "+i).attr("stroke-dashoffset",i).attr("stroke-width",y/2).transition().duration(800).ease(h.g).attr("stroke-dashoffset",(function(){return e%2===0?0:2*i}))})),u.append("g").attr("class","x axis").attr("transform","translate("+s+", "+(l+a)+")").style("opacity",0).transition().duration(800).ease(h.e).style("opacity",1).call(Object(h.a)(p).ticks(5).tickSize(0).tickPadding(24)),u.append("g").attr("class","y axis").attr("transform","translate("+(c+s)+", "+a+")").style("opacity",0).transition().duration(800).ease(h.e).style("opacity",1).call(Object(h.b)(m).ticks(5).tickSize(0).tickPadding(32)),u.append("line").attr("class","bottom-axis").attr("x1",0).attr("y1",o-n).attr("x2",i).attr("y2",o-n).style("opacity",0).attr("stroke-width",y).transition().duration(800).ease(h.g).style("opacity",1),this.setState({vizCreated:!0,updateFunc:function(r,n){var o=null,c=null,l=-1!==r?e.vizRef.current.querySelector(".viz-des-text:nth-child("+(r+1)+")"):null;if(r>n){l&&l.classList.add("on");for(var v=function(r){switch(r){case 0:var n=u.append("path").datum(t).attr("class","data-line").attr("d",Object(h.i)().x((function(t){return p(t.date)+s})).y((function(t){return m(t.level)+a}))).attr("stroke-width",y);f=n.node().getTotalLength(),n.attr("stroke-dasharray",f+" "+f).attr("stroke-dashoffset",f).transition().duration(800).ease(h.e).attr("stroke-dashoffset",0);break;case 1:c=g.map((function(t){return e.props.content[1].params[0]+e.props.content[1].params[1]*t}));var l=u.append("path").datum(t).attr("class","reg-line").attr("d",Object(h.i)().x((function(t){return p(t.date)+s})).y((function(t,e){return m(c[e])+a}))).attr("stroke-width",y),v=u.append("g").attr("class","reg-line-label").attr("transform","translate("+(i>540?p(t[Math.ceil(.52*t.length)].date)+s+64:p(t[Math.ceil(.36*t.length)].date)+s+20)+", "+(i>540?m(c[Math.ceil(.52*c.length)])+a+20:m(c[Math.ceil(.36*c.length)])+a+20)+")");d.select(".bottom-axis").raise(),v.style("opacity",0).transition().duration(720).ease(h.e).style("opacity",1),v.append("rect").attr("class","reg-line-label-rect linear").attr("stroke-width",y/2).attr("rx",4).attr("ry",4).style("width","4.7em"),v.append("text").attr("class","reg-line-label-text").append("tspan").attr("class","linear span").text("y = \u03b1x"),o=l.node().getTotalLength(),l.attr("stroke-dasharray",o+" "+o).attr("stroke-dashoffset",o).transition().duration(800).ease(h.g).attr("stroke-dashoffset",0),d.select(".data-line").attr("class","data-line faded"),d.selectAll(".reg-line-label-text>tspan:not(.linear)").each((function(t){var e=Object(h.o)(this);e.node().classList.contains("off")||e.node().classList.add("off")}));break;case 2:c=g.map((function(t){return e.props.content[2].params[0]+e.props.content[2].params[1]*t+e.props.content[2].params[2]*Math.pow(t,2)})),d.select(".reg-line").transition().duration(800).ease(h.g).attr("d",Object(h.i)().x((function(t){return p(t.date)+s})).y((function(t,e){return m(c[e])+a}))),o=d.select(".reg-line").node().getTotalLength(),d.select(".reg-line").attr("stroke-dasharray",0).attr("stroke-dashoffset",0),d.select(".reg-line-label-rect").attr("class","reg-line-label-rect quadratic").transition().duration(600).ease(h.g).style("width","7.8em"),d.select(".reg-line-label-text").append("tspan").attr("class","quadratic span").text(" + \u03b2x\xb2").style("opacity",0).transition().duration(800).ease(h.e).style("opacity",1),d.selectAll(".reg-line-label-text>tspan:not(.quadratic)").each((function(t){var e=Object(h.o)(this);e.node().classList.contains("off")||e.node().classList.add("off")}));break;case 3:c=g.map((function(t){return e.props.content[3].params[0]+e.props.content[3].params[1]*t+e.props.content[3].params[2]*Math.pow(t,2)+e.props.content[3].params[3]*Math.cos(2*Math.PI*t/365.25+e.props.content[3].params[4])})),d.select(".reg-line").attr("stroke-dasharray",o+" "+o).transition().duration(800).ease(h.g).attr("d",Object(h.i)().x((function(t){return p(t.date)+s})).y((function(t,e){return m(c[e])+a}))),o=d.select(".reg-line").node().getTotalLength(),d.select(".reg-line").attr("stroke-dasharray",0).attr("stroke-dashoffset",0),d.select(".reg-line-label-rect").attr("class","reg-line-label-rect cosine").transition().duration(600).ease(h.g).style("width","15.8em"),d.select(".reg-line-label-text").append("tspan").attr("class","cosine span").text(" + cos(2\u03c0t + \u03c6)").style("opacity",0).transition().duration(800).ease(h.e).style("opacity",1),d.selectAll(".reg-line-label-text>tspan:not(.cosine)").each((function(t){var e=Object(h.o)(this);e.node().classList.contains("off")||e.node().classList.add("off")}))}},b=n;b<r;b++){var k=e.vizRef.current.querySelector(".viz-des-text:nth-child("+(b+1)+")");v(b+1),k&&(k.classList.remove("on"),k.classList.remove("on-reverse"))}}else if(r<n){l&&l.classList.add("on-reverse");for(var w=function(t){switch(t){case-1:var r=d.select(".data-line").node().getTotalLength();d.select(".data-line").attr("stroke-dashoffset",0).transition().duration(800).ease(h.g).attr("stroke-dashoffset",-r).remove();break;case 0:o=d.select(".reg-line").node().getTotalLength(),d.select(".reg-line").attr("stroke-dashoffset",0).transition().duration(800).ease(h.g).attr("stroke-dashoffset",-o).remove(),d.select(".data-line").attr("class","data-line"),d.select(".reg-line-label").style("opacity",1).transition().duration(800).ease(h.g).style("opacity",0).remove();break;case 1:c=g.map((function(t){return e.props.content[1].params[0]+e.props.content[1].params[1]*t})),d.select(".reg-line").transition().duration(800).ease(h.g).attr("d",Object(h.i)().x((function(t){return p(t.date)+s})).y((function(t,e){return m(c[e])+a}))),o=d.select(".reg-line").node().getTotalLength(),d.select(".reg-line").attr("stroke-dasharray",o+" "+o),d.select(".reg-line-label-text>.quadratic.span").style("opacity",1).transition().duration(320).ease(h.g).style("opacity",0).remove(),d.select(".reg-line-label-rect").attr("class","reg-line-label-rect linear").transition().duration(600).ease(h.g).style("width","4.7em"),setTimeout((function(){d.select(".reg-line-label-rect").attr("class","reg-line-label-rect linear")})),d.select(".reg-line-label-text>.linear.span").attr("class","linear span on");break;case 2:c=g.map((function(t){return e.props.content[2].params[0]+e.props.content[2].params[1]*t+e.props.content[2].params[2]*Math.pow(t,2)})),d.select(".reg-line").transition().duration(800).ease(h.g).attr("d",Object(h.i)().x((function(t){return p(t.date)+s})).y((function(t,e){return m(c[e])+a}))),o=d.select(".reg-line").node().getTotalLength(),d.select(".reg-line").attr("stroke-dasharray",o+" "+o),d.select(".reg-line-label-text>.cosine.span").style("opacity",1).transition().duration(320).ease(h.g).style("opacity",0).remove(),d.select(".reg-line-label-rect").attr("class","reg-line-label-rect quadratic").transition().duration(600).ease(h.g).style("width","7.8em"),setTimeout((function(){d.select(".reg-line-label-rect").attr("class","reg-line-label-rect quadratic")})),d.select(".reg-line-label-text>.quadratic.span").attr("class","quadratic span on")}},z=n;z>r;z--){var O=e.vizRef.current.querySelector(".viz-des-text:nth-child("+(z+1)+")");w(z-1),O&&(O.classList.remove("on"),O.classList.remove("on-reverse"))}}e.setState({currentState:r})}})}},{key:"componentDidMount",value:function(){var t=this;new IntersectionObserver((function(e,a){e[0].isIntersecting&&!t.state.vizCreated&&t.setState({vizCreated:!0},(function(){var e;t.createViz(t.props.data),window.addEventListener("resize",(function(){clearTimeout(e),e=setTimeout((function(){Object(h.o)("#line-chart .viz").remove(),t.createViz(t.props.data),t.state.updateFunc(t.state.currentState,-1)}),400)}))}))}),{rootMargin:"-50%",threshold:0}).observe(this.vizRef.current);var e=new IntersectionObserver((function(e,a){e.forEach((function(e){if(e.isIntersecting){var a=Number(e.target.dataset.index);a>-1?(t.state.vizCreated||t.setState({vizCreated:!0},(function(){var e;t.createViz(t.props.data),window.addEventListener("resize",(function(){clearTimeout(e),e=setTimeout((function(){Object(h.o)("#line-chart .viz").remove(),t.createViz(t.props.data),t.state.updateFunc(t.state.currentState,-1)}),400)}))})),t.state.updateFunc(a,t.state.currentState)):t.state.vizCreated&&t.state.updateFunc(a,t.state.currentState)}}))}),{threshold:0});document.querySelectorAll("#line-chart .viz-scroll-anchor").forEach((function(t){e.observe(t)}))}},{key:"render",value:function(){return n.a.createElement("div",{id:"line-chart",className:"viz-outer-wrap",ref:this.vizRef},n.a.createElement("div",{className:"viz-scroll-box"},n.a.createElement("div",{className:"viz-scroll-anchor","data-index":"-1"}),this.props.content.map((function(t,e){return n.a.createElement("div",{className:"viz-scroll-anchor","data-index":e,key:e})})),n.a.createElement("div",{className:"viz-scroll-dummy-anchor"})),n.a.createElement("div",{className:"viz-wrap"},n.a.createElement("div",{className:"viz-svg-outer-wrap"},n.a.createElement("div",{className:"viz-svg-wrap"})),n.a.createElement("div",{className:"viz-des-wrap"},this.props.content.map((function(t,e){return n.a.createElement("p",{className:"viz-des-text",key:e},t.des)})))))}}]),e}(r.Component)),f=a(27),v=(a(88),function(t){function e(t){var a;return Object(o.a)(this,e),(a=Object(l.a)(this,Object(d.a)(e).call(this,t))).state={vizCreated:!1,currentState:-1,updateFunc:null},a.createViz=a.createViz.bind(Object(p.a)(a)),a.vizRef=n.a.createRef(),a}return Object(u.a)(e,t),Object(c.a)(e,[{key:"createViz",value:function(t){var e=this,a=window.innerWidth/window.innerHeight>1.2?window.innerWidth>900?Math.min(.8*window.innerWidth-320,.9*window.innerHeight,1e3)/2:Math.min(.8*window.innerWidth-180,.9*window.innerHeight,1e3)/2:Math.min(.8*window.innerWidth,.9*window.innerHeight-300,1e3)/2,r=a-40,n=Object(h.o)("#polar-plot"),s=n.select(".viz-svg-wrap").append("svg").attr("preserveAspectRatio","xMidYMid meet").attr("viewBox","0 0 "+2*a+" "+2*a).attr("class","viz"),i=Object(h.m)().domain([0,365.25]).range([0,2*Math.PI]),o=Object(h.m)().domain([0,Object(h.k)(t,(function(t,e){return t.level}))]).range([0,r]).nice(),c=null,l=Object(h.l)(t,(function(t){return t.date})),d=t.map((function(t){return(t.date.getTime()-l.getTime())/864e5})).map((function(t){return Math.floor(t%365.25)})),u=s.append("defs"),p=u.append("linearGradient").attr("id","polar-grad").attr("x1","30%").attr("x2","70%").attr("y1","70%").attr("y2","30%"),m=function(t,e,a,r){var n=(r-90)*Math.PI/180;return{x:t+a*Math.cos(n),y:e+a*Math.sin(n)}},v=function(t,e,a,r,n){var s=m(t,e,a,n),i=m(t,e,a,r),o=n-r<=180?"0":"1";return["L",s.x,s.y,"A",a,a,0,o,0,i.x,i.y,"Z"].join(" ")},g=a/200;n.select(".viz-divider").attr("class","viz-divider on"),u.append("clipPath").attr("id","winter-polar-clip").append("rect").attr("x",0).attr("y",-1).attr("width","100%").attr("height","101%").attr("transform","rotate(-180)"),u.append("clipPath").attr("id","summer-polar-clip").append("rect").attr("x",0).attr("y",0).attr("width","100%").attr("height","100%").attr("transform","rotate(0)"),p.append("stop").attr("offset","0%").attr("style","stop-color: var(--warm); stop-opacity: 1"),p.append("stop").attr("offset","100%").attr("style","stop-color: var(--cool); stop-opacity: 1");var y=s.append("g").attr("class","r axis").attr("transform","translate("+a+" "+a+")"),b=s.append("g").attr("class","a axis").attr("transform","translate("+a+" "+a+")");y.selectAll("circle").data([].concat(Object(f.a)(o.ticks(5)),[320,340,360,380])).enter().append("circle").attr("class",(function(t){return"grid-circle"+(t>300&&t<400?" secondary":"")})).attr("stroke-width",g/2).attr("transform","rotate(-90)").attr("r",o).attr("stroke-dasharray",(function(t){return 2*Math.PI*o(t)+" "+2*Math.PI*o(t)})).attr("stroke-dashoffset",(function(t){return 2*Math.PI*o(t)})).transition().duration(800).ease(h.e).attr("stroke-dashoffset",0),y.append("circle").attr("class","grid-circle").attr("stroke-width",g/2).attr("transform","rotate(-90)").attr("r",r).attr("stroke-dasharray",2*Math.PI*r+" "+2*Math.PI*r).attr("stroke-dashoffset",2*Math.PI*r).transition().duration(800).ease(h.e).attr("stroke-dashoffset",0),y.selectAll("g").data([].concat(Object(f.a)(o.ticks(5).slice(1)),[320,340,360,380])).enter().append("text").attr("class",(function(t){return"r tick"+(t>300&&t<400?" secondary":"")})).attr("transform",(function(t){return"translate("+o(t)*Math.cos(-Math.PI/12)+" "+o(t)*Math.sin(-Math.PI/12)+")"})).attr("text-anchor","middle").attr("alignment-baseline","central").text((function(t){return t})),b.selectAll("line").data(Array(6)).enter().append("line").attr("class","grid-line").attr("stroke-width",g/2).attr("x1",0).attr("x2",0).attr("y1",-r).attr("y2",r).attr("transform",(function(t,e){return"rotate("+30*e+")"})).attr("stroke-dasharray",2*r+" "+2*r).attr("stroke-dashoffset",2*r).transition().duration(800).ease(h.e).attr("stroke-dashoffset",(function(t,e){return e%2===0?0:4*r})),b.selectAll("text").data(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]).enter().append("text").attr("class","a tick").attr("text-anchor","middle").attr("alignment-baseline","central").attr("dx",(function(t,e){return(r+24)*Math.cos((e/6-.5)*Math.PI)})).attr("dy",(function(t,e){return(r+24)*Math.sin((e/6-.5)*Math.PI)})).text((function(t){return t})),this.setState({vizCreated:!0,updateFunc:function(l,u){var p=-1!==l?e.vizRef.current.querySelector(".viz-des-text:nth-child("+(l+1)+")"):null;if(l>u){p&&p.classList.add("on");for(var m=function(e){switch(e){case 0:s.append("path").attr("class","data-line").datum(t.slice(0,37)).attr("transform","translate("+a+" "+a+")").attr("stroke","url(#polar-grad)").attr("stroke-width",g).attr("d",Object(h.j)().angle((function(t,e){return i(d[e])})).radius((function(t){return o(t.level)})).curve(h.d)),c=n.select(".data-line").node().getTotalLength(),n.select(".data-line").attr("stroke-dasharray",c+" "+c).attr("stroke-dashoffset",c).transition().duration(800).ease(h.e).attr("stroke-dashoffset",0);break;case 1:o.domain(Object(h.h)(t,(function(t){return t.level}))).nice(),n.selectAll(".grid-circle").filter((function(t,e){return e<4})).attr("class","grid-circle off").transition().duration(1200).ease(h.f).attr("r",0),n.selectAll(".r.tick").filter((function(t,e){return e<3})).attr("class","r tick off").transition().duration(1200).ease(h.f).attr("transform","translate(0 0)"),n.selectAll(".grid-circle:nth-child(5)").transition().duration(800).ease(h.f).attr("r",o),n.selectAll(".r.tick:nth-child(4)").transition().duration(800).ease(h.f).attr("transform",(function(t){return"translate("+o(t)*Math.cos(-Math.PI/12)+" "+o(t)*Math.sin(-Math.PI/12)+")"})),n.selectAll(".grid-circle.secondary").attr("class","grid-circle secondary on").transition().duration(800).ease(h.f).attr("r",o),n.selectAll(".r.tick.secondary").attr("class","r tick secondary on").transition().duration(800).ease(h.f).attr("transform",(function(t){return"translate("+o(t)*Math.cos(-Math.PI/12)+" "+o(t)*Math.sin(-Math.PI/12)+")"})),n.select(".data-line").transition().duration(800).ease(h.f).attr("d",Object(h.j)().angle((function(t,e){return i(d[e])})).radius((function(t){return o(t.level)})).curve(h.d)).on("end",(function(){var e=n.select(".data-line").datum(t).attr("d",Object(h.j)().angle((function(t,e){return i(d[e])})).radius((function(t){return o(t.level)})).curve(h.d)),a=e.node().getTotalLength();e.attr("stroke-dasharray",a+" "+a).attr("stroke-dashoffset",a).transition().duration(800).ease(h.g).attr("stroke-dashoffset",0)}));break;case 2:s.append("path").attr("class","winter stretch").attr("clip-path","url(#winter-polar-clip)").datum(t.slice(3112,3126)).attr("transform","translate("+a+" "+a+")").attr("stroke-width",g/2).attr("d",(function(t){var e=Object(h.j)().angle((function(t,e){return i(d[e+3112])})).radius((function(t){return o(t.level)})).curve(h.d),a=v(0,0,r,0,90);return e(t)+a})),s.append("path").attr("class","summer stretch").attr("clip-path","url(#summer-polar-clip)").datum(t.slice(3086,3100)).attr("transform","translate("+a+" "+a+")").attr("stroke-width",g/2).attr("d",(function(t){var e=Object(h.j)().angle((function(t,e){return i(d[e+3086])})).radius((function(t){return o(t.level)})).curve(h.d),a=v(0,0,r,180,270);return e(t)+a})),n.select("#winter-polar-clip rect").transition().duration(800).ease(h.e).attr("transform","rotate(-90)"),n.select("#summer-polar-clip rect").transition().duration(800).ease(h.e).attr("transform","rotate(90)")}},f=u;f<l;f++){var y=e.vizRef.current.querySelector(".viz-des-text:nth-child("+(f+1)+")");m(f+1),y&&(y.classList.remove("on"),y.classList.remove("on-reverse"))}}else if(l<u){p&&p.classList.add("on-reverse");for(var b=function(e){switch(e){case-1:var a=n.select(".data-line");c=a.node().getTotalLength(),a.attr("stroke-dasharray",c+" "+c).attr("stroke-dashoffset",0).transition().duration(800).ease(h.e).attr("stroke-dashoffset",c).remove();break;case 0:o.domain([0,Object(h.k)(t,(function(t,e){return t.level}))]).nice(),n.selectAll(".grid-circle").filter((function(t,e){return e<4})).attr("class","grid-circle").transition().duration(800).ease(h.f).attr("r",o),n.selectAll(".r.tick").filter((function(t,e){return e<3})).attr("class","r tick").transition().duration(800).ease(h.f).attr("transform",(function(t){return"translate("+o(t)*Math.cos(-Math.PI/12)+" "+o(t)*Math.sin(-Math.PI/12)+")"})),n.selectAll(".grid-circle:nth-child(5)").transition().duration(800).ease(h.f).attr("r",o),n.selectAll(".r.tick:nth-child(4)").transition().duration(800).ease(h.f).attr("transform",(function(t){return"translate("+o(t)*Math.cos(-Math.PI/12)+" "+o(t)*Math.sin(-Math.PI/12)+")"})),n.selectAll(".grid-circle.secondary").attr("class","grid-circle secondary").transition().duration(800).ease(h.f).attr("r",o),n.selectAll(".r.tick.secondary").attr("class","r tick secondary").transition().duration(800).ease(h.f).attr("transform",(function(t){return"translate("+o(t)*Math.cos(-Math.PI/12)+" "+o(t)*Math.sin(-Math.PI/12)+")"})),n.select(".data-line").datum(t.slice(0,37)).transition().duration(400).ease(h.f).style("opacity",0).on("end",(function(){var e=n.select(".data-line").datum(t.slice(0,37)).style("opacity",1).attr("d",Object(h.j)().angle((function(t,e){return i(d[e])})).radius((function(t){return o(t.level)})).curve(h.d)),a=e.node().getTotalLength();e.attr("stroke-dasharray",a+" "+a).attr("stroke-dashoffset",a).transition().duration(800).ease(h.e).attr("stroke-dashoffset",0)}));break;case 1:n.select("#winter-polar-clip rect").transition().duration(800).ease(h.e).attr("transform","rotate(-180)"),n.select("#summer-polar-clip rect").transition().duration(800).ease(h.e).attr("transform","rotate(0)"),n.select(".summer.stretch").transition().delay(800).remove(),n.select(".winter.stretch").transition().delay(800).remove()}},k=u;k>l;k--){var w=e.vizRef.current.querySelector(".viz-des-text:nth-child("+(k+1)+")");b(k-1),w&&(w.classList.remove("on"),w.classList.remove("on-reverse"))}}e.setState({currentState:l})}})}},{key:"componentDidMount",value:function(){var t=this;new IntersectionObserver((function(e,a){e[0].isIntersecting&&!t.state.vizCreated&&t.setState({vizCreated:!0},(function(){var e;t.createViz(t.props.data),window.addEventListener("resize",(function(){clearTimeout(e),e=setTimeout((function(){Object(h.o)("#polar-plot .viz").remove(),t.createViz(t.props.data),t.state.updateFunc(t.state.currentState,-1)}),400)}))}))}),{rootMargin:"-50%",threshold:0}).observe(this.vizRef.current);var e=new IntersectionObserver((function(e,a){e.forEach((function(e){if(e.isIntersecting){var a=Number(e.target.dataset.index);a>-1?(t.state.vizCreated||t.setState({vizCreated:!0},(function(){var e;t.createViz(t.props.data),window.addEventListener("resize",(function(){clearTimeout(e),e=setTimeout((function(){Object(h.o)("#polar-plot .viz").remove(),t.createViz(t.props.data),t.state.updateFunc(t.state.currentState,-1)}),400)}))})),t.state.updateFunc(a,t.state.currentState)):t.state.vizCreated&&t.state.updateFunc(a,t.state.currentState)}}))}),{threshold:0});document.querySelectorAll("#polar-plot .viz-scroll-anchor").forEach((function(t){e.observe(t)}))}},{key:"render",value:function(){return n.a.createElement("div",{id:"polar-plot",className:"viz-outer-wrap",ref:this.vizRef},n.a.createElement("div",{className:"viz-scroll-box"},n.a.createElement("div",{className:"viz-scroll-anchor","data-index":"-1"}),this.props.content.map((function(t,e){return n.a.createElement("div",{className:"viz-scroll-anchor","data-index":e,key:e})})),n.a.createElement("div",{className:"viz-scroll-dummy-anchor"})),n.a.createElement("div",{className:"viz-wrap"},n.a.createElement("div",{className:"viz-des-wrap"},this.props.content.map((function(t,e){return n.a.createElement("p",{className:"viz-des-text",key:e},t.des)}))),n.a.createElement("div",{className:"viz-svg-outer-wrap"},n.a.createElement("div",{className:"viz-svg-wrap"}))))}}]),e}(r.Component)),g=function(t){function e(t){var a;return Object(o.a)(this,e),(a=Object(l.a)(this,Object(d.a)(e).call(this,t))).renderSwitch=a.renderSwitch.bind(Object(p.a)(a)),a.sectionRef=n.a.createRef(),a}return Object(u.a)(e,t),Object(c.a)(e,[{key:"renderSwitch",value:function(){switch(this.props.content.key){case"line-chart":return n.a.createElement(m,{data:this.props.data,content:this.props.content.vizContent});case"polar-plot":return n.a.createElement(v,{data:this.props.data,content:this.props.content.vizContent});default:return null}}},{key:"componentDidMount",value:function(){var t=this;this.sectionRef.current.querySelectorAll(".animate").forEach((function(e){t.props.animationObserver.observe(e)}))}},{key:"render",value:function(){var t=this.props.content.text;return n.a.createElement("div",{className:"section-wrap",ref:this.sectionRef,style:{height:this.props.content.height}},n.a.createElement("div",{className:"limit-box"},n.a.createElement("div",{className:"header limited"},t.header[0]&&n.a.createElement("h2",{className:"header-line animate right"},t.header[0]),t.header[1]&&n.a.createElement("h2",{className:"header-line animate left"},t.header[1])),t.des.map((function(t,e){return n.a.createElement("p",{key:e,className:"para limited animate blur",style:{"--animation-speed":"800ms","--animation-delay":"440ms"}},t.map((function(t,e){switch(t.type){case"span":return n.a.createElement("span",{key:e},t.content);case"sub":return n.a.createElement("sub",{key:e},t.content);default:return null}})))}))),this.renderSwitch())}}]),e}(r.Component),y="#FFFFFF",b="#060608",k="#222224",w="#F9F9FA",z="#444445",O="#CCCCCD",x="#888889",j="#E6E6E8",E="#4BA824",M="#EC5F13",N="#AB13EC",S=[{key:"line-chart",height:"500vh",text:{header:["NOT SO","LINEAR."],des:[[{type:"span",content:"A simple line plot can show us how the CO"},{type:"sub",content:"2"},{type:"span",content:" levels (measured in ppm - parts per million) have changed since the first recordings in 1958. Inference for regression was done with PyStan. A basic linear regression proved insufficient, and slightly more complex terms were added to improve model performance!"}]]},vizContent:[{state:"initial",des:"The original data looks like this.",params:null},{state:"linear",des:"There is a clear and consistent upward trend through the years.",params:[306.06644452,.00430901514]},{state:"quadratic",des:"But a quadratic trend line would be a better fit.",params:[314.574751,.00210065413,9.73625567e-8]},{state:"cosine",des:"The levels also have a seasonal component. This could be modeled by adding a cosine term to the function.",params:[314.569048,.00210632696,9.70576557e-8,2.86111474,-.554076698]}]},{key:"polar-plot",height:"400vh",text:{header:["ROUND AND","ROUND WE GO."],des:[[{type:"span",content:"Say hi to polar plots! They're circular plots that use polar coordinate systems. This makes them highly appropriate for time series with recurring patterns. See them in action below!"}]]},vizContent:[{state:"one",des:"Each revolution corresponds to a full year."},{state:"all",des:"The whole dataset looks like this. Notice how the rise in CO2 levels is expressed by a consistent trend outward."},{state:"stretches",des:"The revolutions are not perfectly circular. They stretch outward in winter months (blue) and inward in summer months (red). This is due to the annual seasonal fluctuations we saw above."}]}],A={meta:[{name:"AUTHOR",content:["Vu Luong"]},{name:"TOOLS/FRAMEWORKS",content:["PyStan","React","D3.js"]},{name:"LINKS",links:!0,content:[{name:"Data Set",link:"https://www.esrl.noaa.gov/gmd/ccgg/trends/data.html"},{name:"Code for Stan Inference",link:"https://github.com/vuluongj20/misc/blob/master/CO2.ipynb"},{name:"Project Report",link:"data/Project Report.pdf"}]}],endNote:"That's all for now. Cheers :)"},L=function(t){function e(t){var a;return Object(o.a)(this,e),(a=Object(l.a)(this,Object(d.a)(e).call(this,t))).state={},a}return Object(u.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){var t=this;Object(h.c)("data/weekly_in_situ_co2_mlo.csv").then((function(e){e.forEach((function(t){t.date=Object(h.p)("%Y-%m-%d")(t.date),t.level=+t.level})),t.setState({data:e,animationObserver:new IntersectionObserver((function(t,e){t.forEach((function(t){t.isIntersecting&&t.target.classList.add("on")}))}),{threshold:.5})},(function(){document.querySelectorAll(".parent.animate").forEach((function(e){t.state.animationObserver.observe(e)}))}))}))}},{key:"render",value:function(){var t=this;return document.body.style.background=b,n.a.createElement("div",{id:"App",style:{"--background":y,"--inverted-background":b,"--dark":k,"--inverted-dark":w,"--normal":z,"--inverted-normal":O,"--light":x,"--line":j,"--theme":E,"--warm":M,"--cool":N}},n.a.createElement("div",{className:"hero-wrap"},n.a.createElement("h1",{className:"hero-text"},n.a.createElement("span",{className:"hero-span span-1"},"C"),n.a.createElement("span",{className:"hero-span span-2"},"O"),n.a.createElement("sub",{className:"hero-span span-3"},"2")),n.a.createElement("p",{className:"hero-des"},"An exploration into data visualization, with carbon dioxide records from the Mauna Loa Observatory in Hawaii.")),n.a.createElement("div",{className:"meta-wrap"},n.a.createElement("div",{className:"meta-inner-wrap limited"},A.meta.map((function(t,e){return n.a.createElement("div",{className:"meta-column animate parent blur",key:e},n.a.createElement("p",{className:"meta-column-name"},t.name),t.links?t.content.map((function(t,e){return n.a.createElement("a",{className:"meta-column-link",key:e,href:t.link},t.name)})):t.content.map((function(t,e){return n.a.createElement("p",{className:"meta-column-el",key:e},t)})))})))),this.state.data&&S.map((function(e,a){return n.a.createElement(g,{key:a,data:t.state.data,content:e,animationObserver:t.state.animationObserver})})),n.a.createElement("div",{className:"end-note-wrap"},n.a.createElement("p",{className:"end-note animate parent blur"},A.endNote)),n.a.createElement("div",{className:"footer-wrap"},n.a.createElement("p",{className:"footer-name animate parent blur"},"CO",n.a.createElement("sub",null,"2")),n.a.createElement("p",{className:"footer-text animate parent blur"},"Made by Vu Luong, with \u2665")))}}]),e}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[79,1,2]]]);
//# sourceMappingURL=main.0cc7589f.chunk.js.map